<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    
    <h:head>
        
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous"></link>
        <link href="https://unpkg.com/ionicons@4.5.10-0/dist/css/ionicons.min.css" rel="stylesheet"></link>
        <link href="https://fonts.googleapis.com/css2?family=Muli:wght@300&family;=Open+Sans&mdp;display=swap" rel="stylesheet"></link>
        <link rel="shortcut icon" type="png" href="img/SION CASA DE BANQUETES.png"></link>
        <link rel="stylesheet" href="css/hh.css"></link>
        <link rel="stylesheet" href="css/all.min.css"></link>
        <link href="css/mm.css" rel="stylesheet" type="text/css"></link>
        
        <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
        <script src="js/funcionMensaje.js" type="text/javascript"></script>
        <script src="js/funcionMensaje_2.js" type="text/javascript"></script>
        
        <title>Gerente</title>
    </h:head>
    <h:body style="color: #000;">
        
        <script>#{mensajeController.mensaje}</script>
        
        <script>#{mensajeController_2.mensaje_2}</script>
        
        <div id="sidemenu" class="menu-collapsed">
      <!--HEADER-->

        <div id="header">
            <div class="row m-0" >
                <div id="column" class="col-md-2 p-0">  
                    <div id="title" style="text-align: -webkit-left"><img class="logo" src="img/SION CASA DE BANQUETES.png" alt=""/></div>
                </div>
                <div id="column" class="col-md-6 pt-3 pl-0">
                    <h4>Gerente</h4>
                </div>
                <div class="col-md-4 col-sm-12 p-0" style="text-align: -webkit-right">
                    <div id="menu-btn">
                        <div class="btn-hamburger"></div>
                        <div class="btn-hamburger"></div>
                        <div class="btn-hamburger"></div>
                    </div>
                </div>
            </div>
        </div>

      <!--PROFILE-->

        <div id="profile">
            <div id="photo" ><img src="img/miguel.jpg" alt=""/></div>

            <div id="name">
                <span >
                    <li id="perfil" class="text-center" style="list-style: none">
                        <a href="dashboardAdmin.xhtml" >
                            <div class="title" style="background-color: rgba(0, 0, 0, .3);"><i class="fa fa-reply"></i><span> Miguel Castañeda</span></div>
                        </a> 
                    </li>
                    
                </span>
            </div>
        </div>

      <!--ITEMS-->

        <div id="menu-items">
            
            <ul class="p-0">
                        <c:forEach items="#{usuarioRolController.consultarPermisoRol()}" var="per" >                         
                            <li class="item active" style="list-style: none">
                                <c:if test="#{per.codPer == 1 || per.codPer == 2 || per.codPer == 3 || per.codPer == 4}">
                                    <a href="#{per.urlper}">
                                        <div class="icon"><span class="#{per.icoper} ml-2"></span></div>
                                        <div class="title"><span class="text-uppercase">#{per.nomforPer}</span></div>
                                    </a>  
                                    <ul class="list">
                                        <c:forEach items="#{usuarioRolController.consultarPermisoPadre(per.codPer)}" var="subPer">
                                            <c:forEach items="#{usuarioRolController.consultarPermisoRol()}" var="perCom">
                                                <c:if test="#{subPer.codPer eq perCom.codPer}">
                                                    <li class="show" style="list-style: none">
                                                        <a  href="#{subPer.urlper}">
                                                            <div class="icon"><span class="#{subPer.icoper} ml-2"></span></div>
                                                            <div class="title"><span>#{subPer.nomforPer}</span></div>
                                                        </a>
                                                    </li>   
                                                </c:if>
                                            </c:forEach>
                                        </c:forEach>
                                    </ul>
                                </c:if>    
                            </li> 
                        </c:forEach>
                    </ul>
            
            <div class="item separator"></div>

            <div class="item separator2 mt-5"></div>
            
                            <div class="social-container">
                                <a id="a" href="" class="social" >
                                        <img src="img/face.png" height="50%" width="50%"/>
                                </a>
                                <a id="a" href="" class="social">
                                        <img class="img" src="img/whatsapp.png" height="50%" width="50%"/>
                                </a>
                                <a id="a" href="" class="social">
                                        <img class="img" src="img/linke.png" height="50%" width="50%"/>
                                </a>
                                <a id="a" href="" class="social">
                                        <img class="img" src="img/google.png" height="50%" width="50%"/>
                                </a>
                            </div>
            
            <div class="item separator2"></div>
            
                
        </div>
    </div>
        <div class="d-flex">
            <div id="sidebar-container"></div>
        <div class="w-100">
              <nav class="navbar navbar-expand-lg navbar" style="background-color: #232526">
                <div class="container">
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon"></span>
                </button>

                <form class="form-inline position-relative my-2 my-lg-0">
                    <input class="form-control mr-sm-2" type="search" placeholder="Buscar" aria-label="Buscar"></input>
                  <button class="btn btn-search position-absolute" type="submit"><i class="fa fa-search"></i></button>
                </form>
              
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                  <ul class="navbar-nav ml-auto">
                   
                    <li class="nav-item dropdown">
                      <a style="color: #fff;" class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          <img src="img/miguel.jpg" class="img-fluid rounded-circle avatar mr-2"></img>
                        Gerente
                      </a>
                      <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="#"><i class="fas fa-user mr-1"></i>Mi perfíl</a>
                        <a class="dropdown-item" href="#"><i class="fas fa-bell mr-1"></i>Notificaciones</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#{usuarioRolController.cerraSesion()}"><i class="fas fa-sign-in-alt mr-1"></i>Cerrar sesión</a>
                      </div>
                    </li>
                    
                  </ul>
                  
                </div>
                </div>
              </nav>
              
          

              
              <!--Nombre de usuario -->


              <div id="content">
              
              <section class="py-4">

              <div class="container">

              <div  class="row">

              <div class="col-lg-9">
                  <h1 class="font-weight-bold mb-0 text-uppercase">Clientes</h1>
                  <h5><small>Agregar, consultar o revisar todo sobre clientes actualmente registrados con su gráfico y reporte!</small></h5>
               
               
              
              </div>
              <div class="col-lg-3 d-flex">
                <button class="btn btn-dark primary w-100 align-self-center" style="background-color: #414345;"><i class="fas fa-download mr-1"></i>Descargar reporte</button>
              </div>

              </div>
              </div>
              </section>
                  
                  <!--Tabla central -->

              <section class="bg-mix py-3">
                <div class="container">
                    <div class="card rounded-0">
                        <div class="card-body">
                            <div class="row" style="margin-left: -45px">
                                <div class="col-lg-3 col-md-6 d-flex stat my-3">
                                    <div class="mx-auto">
                                        <h6 class="text-muted">Último rol asignado</h6>
                                        <h3 class="font-weight-bold">Secretaria</h3>
                                        <h6 class="text-success"><i class="fa fa-plus"></i> Victoria Dali</h6>
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-6 d-flex stat my-3">
                                    <div class="mx-auto">
                                        <h6 class="text-muted">Nuevos Empleados </h6>
                                        <h3 class="font-weight-bold">8</h3>
                                        <h6 class="text-success"><i class="fa fa-plus"></i>En el último mes</h6>
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-6 d-flex stat my-3">
                                    <div class="mx-auto">
                                        <h6 class="text-muted">Clientes antiguos</h6>
                                        <h3 class="font-weight-bold">12</h3>
                                        <h6 class="text-success"><i class="fa fa-plus"></i>Actuales</h6>
                                    </div>
                                </div>
                                 <div class="col-lg-3 col-md-6 d-flex my-3">
                                    <div class="mx-auto">
                                        <h6 class="text-muted">Reportes actualizados</h6>
                                        <h3 class="font-weight-bold">3</h3>
                                        <h6 class="text-success"><i class="fa fa-plus"></i>Más detalles...</h6>
                                    </div>
                                </div>
                                
                            </div>
                        </div>
                    </div>
                </div>
              </section>

                  <section>
                      <div class="full-box page-header mt-5">
                          <div class="container-lg" style="max-width: 90%">
				<h3 class="text-left">
					<i class="fas fa-clipboard-list"></i> LISTA DE CLIENTES
				</h3>
				<p class="text-justify">
					Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quidem odit amet asperiores quis minus, dolorem repellendus optio doloremque error a omnis soluta quae magnam dignissimos, ipsam, temporibus sequi, commodi accusantium!
				</p>
                            </div>
			</div>

			<div class="container-fluid">
				<ul class="full-box list-unstyled page-nav-tabs mt-5">
					<li>
                                                <a class="active text-uppercase" href="#"><i class="fas fa-clipboard-list"></i> Lista de Clientes</a>
					</li>
                                        <li>
                                                <a class="text-uppercase" href="#" data-toggle="modal" data-target="#Modalcliente"><i class="fas fa-user-plus"></i> Agregar Cliente</a>
					</li>
					<li>
						<a class="text-uppercase" href="cliente-list.xhtml"><i class="fas fa-search"></i> Consultar Clientes</a>
					</li>
					<li>
                                                <a class="text-uppercase" href="cliente-grafico.xhtml"><i class="far fa-chart-bar"></i> Gráfico y Reporte</a>
					</li>
				</ul>	
			</div>
                  </section>
                  
            <div class="table-responsive-md container">
              <f:view>       
                <h:form class="table table-striped table-hover table-dark container text-justify" style="color: #fff; padding: 25px 20px; display: grid;">
                    <h1 class="mb-3 text-center text-uppercase"><h:outputText value="Lista de Clientes"/></h1>
                    <h:dataTable class=" mr-0 text-center"  value="#{clienteController.consultarClientes()}" var="cliente">
                            <h:column>
                                <f:facet  name="header">
                                    <h:outputText  value="Código del Cliente"/>
                                </f:facet>
                                <h:outputText value="#{cliente.codCli}"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText  value="Teléfono"/>
                                </f:facet>
                                <h:outputText value="#{cliente.telCli}"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText  value="Dirrección"/>
                                </f:facet>
                                <h:outputText value="#{cliente.dirCli}"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText  value="Nombre del Usuario"/>
                                </f:facet>
                                <h:outputText value="#{cliente.codUsu.nomcUsu}"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Acción"/>
                                </f:facet>
                                <a data-toggle="modal" data-target="#Modalaccion"><h:commandButton class="btn btn-outline-info mr-1"  value="Editar"></h:commandButton></a>
                                <h:commandButton class="btn btn-outline-danger ml-1"  value="Eliminar" action="#{clienteController.eliminarCliente(cliente)}"></h:commandButton>
                            </h:column>
                    </h:dataTable>
                </h:form>
              </f:view> 
            </div>    
              </div>
        </div>
      </div>
        
         <!--Modal-1-->
                <div class="modal fade" id="Modalcliente" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">                     
                            <h3 class="modal-title" id="exampleModalCenterTitle"><small>Nuevo Cliente</small></h3>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true" style="color: #c31432"><i class="far fa-times-circle"></i></span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <f:view>
                                <h:form class="container mb-3" style="background-color: rgba(0, 0, 0, .3); max-width: 80%; padding: 15px" >
                                    <div class="form-group">
                                        <h:outputLabel class="text-left" for="exampleInputNumber"><i class="fas fa-mobile-alt"></i> Teléfono y/o Celular</h:outputLabel>
                                        <h:inputText class="form-control" id="exampleInputEmail1" value="#{clienteController.cliente.telCli}"></h:inputText>
                                    </div>
                                    <div class="form-group">
                                        <h:outputLabel class="text-left" for="exampleInputAdress"><i class="fas fa-map-marker-alt"></i> Dirección</h:outputLabel>
                                        <h:inputText class="form-control" id="exampleInputPassword1" value="#{clienteController.cliente.dirCli}"></h:inputText>
                                    </div>
                                    <h:outputLabel class="text-left" for="exampleInputAdress"><i class="fas fa-user"></i> Usuario</h:outputLabel>
                                    <h:selectOneMenu class="form-control col-md-12" id="codUsu" value="#{clienteController.usuarioRol.codRol}" title="CodUsu" >
                                        <!-- TODO: update below reference to list of available items-->
                                        <f:selectItem itemLabel="Seleccione Usurio" itemDisabled="true"></f:selectItem>
                                        <f:selectItems value="#{usuarioRolController.consultarUsuarioRol()}" var="usuarioRol" itemValue="#{usuarioRol.codUsu}" itemLabel="#{usuarioRol.nomcUsu}"/>
                                    </h:selectOneMenu>
                                    <div class="col"  style="text-align: -webkit-center">
                                        <h:commandButton class="btn btn-dark mt-5" value="Guardar" action="#{clienteController.registroCliente()}"></h:commandButton>
                                    </div>
                                    
                                 </h:form>
                             </f:view>
                            
                            <!--alerta-1-->
                            <div class="modal-body">
                                <form>
                                    <div class="from-row">
                                      <div class="from-group col ">
                                        <div class="alert alert-info" role="alert">                                       
                                          <h5><i class="fas fa-info"></i> Ten presente que todos los campos son obligatorios!!</h5>
                                        </div>
                                      </div>
                                    </div>
                                </form>

                            <!--/alerta-1-->
                          </div>
                            <div class="modal-footer">
                                <button type="reset" class="btn btn-secondary"><i class="fas fa-paint-roller"></i> Limpiar</button>
                                <button type="button" class="btn btn-outline-info" data-dismiss="modal"><i class="fas fa-times"></i> Cerrar</button>
                            </div>
                        </div>
                    </div>
                    </div>
                </div>
                <!--/Modal-1-->
                
                
                
                <!--Modal-2-->
                <div class="modal fade" id="Modalaccion" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">                     
                            <h3 class="modal-title" id="exampleModalCenterTitle"><small>Actualizar Cliente</small></h3>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true" style="color: #c31432"><i class="far fa-times-circle"></i></span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <f:view>
                                <h:form class="container mb-3" style="background-color: rgba(0, 0, 0, .3); max-width: 80%; padding: 15px" >
                                    <div class="form-group">
                                        <h:outputLabel class="text-left" for="exampleInputNumber"><i class="fas fa-mobile-alt"></i> Teléfono y/o Celular</h:outputLabel>
                                        <h:inputText class="form-control" id="exampleInputEmail1" value="#{clienteController.cliente.telCli}"></h:inputText>
                                    </div>
                                    <div class="form-group">
                                        <h:outputLabel class="text-left" for="exampleInputAdress"><i class="fas fa-map-marker-alt"></i> Dirección</h:outputLabel>
                                        <h:inputText class="form-control" id="exampleInputPassword1" value="#{clienteController.cliente.dirCli}"></h:inputText>
                                    </div>
                                    <h:outputLabel class="text-left" for="exampleInputNombre"><i class="fas fa-user"></i> Usuario</h:outputLabel>
                                    <h:selectOneMenu class="form-control col-md-12" id="codUsu" value="#{clienteController.usuarioRol.codRol}" title="CodUsu" >
                                        <!-- TODO: update below reference to list of available items-->
                                        <f:selectItems value="#{usuarioRolController.consultarUsuarioRol()}" var="usuarioRol" itemValue="#{usuarioRol.codUsu}" itemLabel="#{usuarioRol.nomcUsu}"/>
                                    </h:selectOneMenu>
                                    <div class="col"  style="text-align: -webkit-center">
                                        <h:commandButton class="btn btn-dark mt-5" value="Guardar" action="#{clienteController.actualizarCliente()}"></h:commandButton>
                                    </div>
                                    
                                 </h:form>
                             </f:view>
                            
                            <!--alerta-2-->
                            <div class="modal-body">
                                <form>
                                    <div class="from-row">
                                      <div class="from-group col ">
                                        <div class="alert alert-info" role="alert">                                       
                                          <h5><i class="fas fa-info"></i> Ten presente que puedes editar cualquier información!!</h5>
                                        </div>
                                      </div>
                                    </div>
                                </form>

                            <!--/alerta-2-->
                          </div>
                            <div class="modal-footer">
                                <button type="reset" class="btn btn-secondary"><i class="fas fa-paint-roller"></i> Limpiar</button>
                                <button type="button" class="btn btn-outline-info" data-dismiss="modal"><i class="fas fa-times"></i> Cerrar</button>
                            </div>
                        </div>
                    </div>
                    </div>
                </div>
                <!--/Modal-2-->
    


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js" integrity="sha256-R4pqcOYV8lt7snxMQO/HSbVCFRPMdrhAFMH+vr9giYI=" crossorigin="anonymous"></script>


        
        <Script>
        const btn = document.querySelector('#menu-btn');
        const menu = document.querySelector('#sidemenu');
        btn.addEventListener('click', e =>{
          menu.classList.toggle("menu-expanded");
          menu.classList.toggle("menu-collapsed");

          document.querySelector('body').classList.toggle('body-expanded');
      });
    </Script>

        
    </h:body>
</html>


